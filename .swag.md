# OpenAPI/Swagger Documentation

## Overview
The API is now documented using OpenAPI 3.0 via swaggo/swag annotations.

## Accessing the Documentation

Once the server is running:

- **Swagger UI**: http://localhost:8080/swagger/index.html
- **OpenAPI JSON**: http://localhost:8080/swagger/doc.json
- **OpenAPI YAML**: Available at `docs/swagger.yaml`

## Regenerating Documentation

After adding or modifying API endpoints, regenerate the docs:

```bash
~/go/bin/swag init -g cmd/api/main.go -o docs --parseDependency --parseInternal
```

Or add to your Makefile:

```makefile
.PHONY: swagger
swagger:
	swag init -g cmd/api/main.go -o docs --parseDependency --parseInternal
```

## Adding Documentation to New Endpoints

Use these annotations above your handler functions:

```go
// @Summary Brief description
// @Description Longer description
// @Tags tag-name
// @Accept json
// @Produce json
// @Param paramName path/query/body type true "Description"
// @Success 200 {object} YourModel
// @Failure 400 {object} ErrorResponse
// @Security BearerAuth
// @Router /path [method]
func YourHandler(w http.ResponseWriter, r *http.Request) {
    // handler code
}
```

## Testing with API Key

In Swagger UI:
1. Click the "Authorize" button (lock icon)
2. Enter: `Bearer your-api-key-here`
3. Click "Authorize"
4. Try the endpoints

Or use curl:
```bash
curl -H "Authorization: Bearer your-api-key" http://localhost:8080/v1/experiences
```

## Key Features

- ✅ All endpoints documented
- ✅ Request/response schemas auto-generated from Go structs
- ✅ API key authentication configured
- ✅ Interactive Swagger UI for testing
- ✅ Supports all HTTP methods (GET, POST, PATCH, DELETE)
- ✅ Health check endpoint (no auth required)
